<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã˜ã‚ƒã‚“ã‘ã‚“</title>
    <style>
        body {
            text-align: center;
        }
        h1 {
            font-size: 2rem;
            font-weight: bold;
        }
        p {
            font-size: 1.2rem;
        }
        button {
            font-size: 1.2rem;
            font-weight: bold;
            padding: 0.5rem 1rem;
            margin: 0 0.5rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
        }
        #result {
            font-size: 1.5rem;
            font-weight: bold;
            color: red;
        }
        #pc-hand {
            font-size: 1.5rem;
            font-weight: bold;
            color: blue;
        }
        #my-hand {
            font-size: 1.5rem;
            font-weight: bold;
            color: green;
        }
        #times {
            font-size: 1.5rem;
            font-weight: bold;
            color: orange;
        }
    </style>
</head>
<body>
    <h1>ã˜ã‚ƒã‚“ã‘ã‚“</h1>
    <p>å‡ºã™æ‰‹ã‚’é¸ã‚“ã§å‹è² ã—ã¦ãã ã•ã„ã€‚</p>
    <!-- å±¥æ­´ã‚’è¡¨ç¤º -->
    <div>
        <p id="times"></p>
        <p id="history"></p>
    </div>

    <!-- ãƒœã‚¿ãƒ³ -->
    <div>
        <button id="rock">ã‚°ãƒ¼</button>
        <button id="scissors">ãƒãƒ§ã‚­</button>
        <button id="paper">ãƒ‘ãƒ¼</button>
    </div>

    <!-- å‹æ•—çµæœ -->
    <div>
        <p id="result"></p>
        <p id="pc-hand"></p>
        <p id="my-hand"></p>
    </div>
    <script>
        // DOMã®å–å¾—
        const rock = document.getElementById('rock');
        const scissors = document.getElementById('scissors');
        const paper = document.getElementById('paper');
        const times = document.getElementById('times');
        const history = document.getElementById('history');
        const result = document.getElementById('result');
        const pcHand = document.getElementById('pc-hand');
        const myHand = document.getElementById('my-hand');

        // ã˜ã‚ƒã‚“ã‘ã‚“ã®æ‰‹ã‚’é…åˆ—ã«æ ¼ç´ã€çµµæ–‡å­—ã§è¡¨ç¤º
        const hands = ['âœŠ', 'âœŒï¸', 'âœ‹'];

        // å‹æ•—çµæœã‚’é…åˆ—ã«æ ¼ç´, çµµæ–‡å­—ã§è¡¨ç¤º
        const results = [
        'å‹ã¡ğŸ˜„',
        'è² ã‘ğŸ˜­',
        'ã‚ã„ã“ğŸ˜‘'
        ];

        // ã˜ã‚ƒã‚“ã‘ã‚“ç®¡ç†ã‚¯ãƒ©ã‚¹
        class Janken {
            constructor() {
                this.pcHand = "";
                this.myHand = "";
                this.result = "";
                this.history = "";
                this.times = 0;
                this.win = 0;
                this.lose = 0;
                this.draw = 0;
            }

            // å‹æ•—åˆ¤å®š
            judge(myHand) {
                // PCã®æ‰‹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºå®š
                this.pcHand = Math.floor(Math.random() * 3);

                // å‹æ•—åˆ¤å®š
                this.result = (myHand - this.pcHand + 3) % 3;

                if (this.result === 0) {
                    this.draw++;
                } else if (this.result === 1) {
                    this.lose++;
                } else {
                    this.win++;
                }
                this.times++;
            }

            // âœŠãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®å‡¦ç†
            rock() {
                this.judge(0);
                pcHand.textContent = `ç›¸æ‰‹ã®æ‰‹ã¯${hands[this.pcHand]}ã§ã™ã€‚`;
                myHand.textContent = `ã‚ãªãŸã®æ‰‹ã¯${hands[0]}ã§ã™ã€‚`;
                result.textContent = `çµæœã¯${results[this.result]}ã§ã™ã€‚`;
                times.textContent = `å¯¾æˆ¦å›æ•°${this.times}å›`;
                history.textContent = `å‹ã¡${this.win}å›ã€è² ã‘${this.lose}å›ã€ã‚ã„ã“${this.draw}å›`;
            }

            // âœŒï¸ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®å‡¦ç†
            scissors() {
                this.judge(1);
                pcHand.textContent = `ç›¸æ‰‹ã®æ‰‹ã¯${hands[this.pcHand]}ã§ã™ã€‚`;
                myHand.textContent = `ã‚ãªãŸã®æ‰‹ã¯${hands[1]}ã§ã™ã€‚`;
                result.textContent = `çµæœã¯${results[this.result]}ã§ã™ã€‚`;
                times.textContent = `å¯¾æˆ¦å›æ•°${this.times}å›`;
                history.textContent = `å‹ã¡${this.win}å›ã€è² ã‘${this.lose}å›ã€ã‚ã„ã“${this.draw}å›`;
            }

            // âœ‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®å‡¦ç†
            paper() {
                this.judge(2);
                pcHand.textContent = `ç›¸æ‰‹ã®æ‰‹ã¯${hands[this.pcHand]}ã§ã™ã€‚`;
                myHand.textContent = `ã‚ãªãŸã®æ‰‹ã¯${hands[2]}ã§ã™ã€‚`;
                result.textContent = `çµæœã¯${results[this.result]}ã§ã™ã€‚`;
                times.textContent = `å¯¾æˆ¦å›æ•°${this.times}å›`;
                history.textContent = `å‹ã¡${this.win}å›ã€è² ã‘${this.lose}å›ã€ã‚ã„ã“${this.draw}å›`;
            }
        }

        // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆ
        const janken = new Janken();

        // ã‚¤ãƒ™ãƒ³ãƒˆã®ç™»éŒ²
        rock.addEventListener('click', janken.rock.bind(janken));
        scissors.addEventListener('click', janken.scissors.bind(janken));
        paper.addEventListener('click', janken.paper.bind(janken));
    </script>
</body>
</html>
